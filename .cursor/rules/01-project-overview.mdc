---
alwaysApply: true
---

# KBase Project Overview

## Project Description

KBase is a web-based note-taking application inspired by Obsidian and Joplin. It's designed to be lightweight with minimal moving parts and markdown-first with dual editor support (Monaco Editor for all file types).

## Tech Stack

**Backend:**
- FastAPI (Python 3.11+)
- JWT authentication (httpOnly cookies + localStorage refresh)
- Filesystem-based storage (markdown files)
- Database caching for metadata
- Uvicorn with WebSocket support

**Frontend:**
- Vue 3 with Composition API
- TypeScript
- Pinia for state management
- Monaco Editor (VS Code editor experience)
- Vite build tool
- Progressive Web App (PWA) support

**Testing:**
- Backend: pytest with httpx
- Frontend: Vitest (unit) + Playwright (e2e)

## Repository Structure

```
kbase/
├── backend/             # FastAPI backend application
│   ├── app/
│   │   ├── api/v1/endpoints/  # API route handlers
│   │   ├── services/          # Business logic services
│   │   ├── core/              # Core configuration and utilities
│   │   └── models/            # Pydantic models
│   └── tests/                 # Backend test suite
├── frontend/           # Vue 3 frontend application
│   ├── src/
│   │   ├── api/        # API client
│   │   ├── components/ # Vue components
│   │   ├── router/     # Vue Router
│   │   ├── stores/     # Pinia stores
│   │   └── views/        # Page views
│   └── e2e/            # End-to-end tests
└── docs/               # Architecture documentation
```

## Key Files

- Main backend entry: [backend/app/main.py](mdc:backend/app/main.py)
- Backend configuration: [backend/app/config.py](mdc:backend/app/config.py)
- Main frontend entry: [frontend/src/main.ts](mdc:frontend/src/main.ts)
- Project documentation: [README.md](mdc:README.md)
- Architecture design: [docs/architecture-design.md](mdc:docs/architecture-design.md)
- API endpoints: [docs/api-endpoints.md](mdc:docs/api-endpoints.md)

## Development Setup

Quick start commands:
- `npm run install:all` - Install all dependencies
- `npm run dev` - Start both frontend and backend
- `npm run test` - Run all tests
- `npm run test:backend` - Backend tests only
- `npm run test:frontend` - Frontend tests only

## Core Principles

1. **Documentation First**: All major changes require documentation in [docs/](mdc:docs/)
2. **Test-Driven**: Write tests first, then implement
3. **Security First**: Always validate inputs and protect against path traversal
4. **80%+ Test Coverage**: Maintain comprehensive test coverage
5. **Code Quality**: Follow language-specific style guidelines
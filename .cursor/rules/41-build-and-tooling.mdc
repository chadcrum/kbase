---
globs: "**/vite.config.ts,**/pyproject.toml,**/package.json"
---

# Build and Tooling Configuration

## Package Management

### Backend: uv

Backend uses `uv` for Python package management. See [backend/pyproject.toml](mdc:backend/pyproject.toml):

```bash
# Install dependencies
cd backend
uv sync

# Install dev dependencies
uv pip install -e ".[dev]"

# Run commands
uv run pytest
uv run uvicorn app.main:app --reload
```

### Frontend: npm

Frontend uses npm for Node.js packages. See [frontend/package.json](mdc:frontend/package.json):

```bash
# Install dependencies
cd frontend
npm install

# Run dev server
npm run dev

# Run tests
npm run test

# Build for production
npm run build
```

## Root Scripts

Root-level [package.json](mdc:package.json) provides convenience scripts:

```bash
# Install everything
npm run install:all

# Start both services
npm run dev

# Run all tests
npm run test

# Run backend tests only
npm run test:backend

# Run frontend tests only
npm run test:frontend
```

## Vite Configuration

Frontend build tool: [frontend/vite.config.ts](mdc:frontend/vite.config.ts)

### Key Features

- Vue 3 plugin
- PWA support with `vite-plugin-pwa`
- Path aliases: `@/` -> `src/`
- Dev server proxy to backend
- Test environment: jsdom

### PWA Configuration

- Service worker generation
- Manifest configuration
- Cache strategies for assets and API
- Update prompts

## TypeScript Configuration

Frontend: [frontend/tsconfig.json](mdc:frontend/tsconfig.json)

- Strict mode enabled
- Modern target: ES2020
- Path mapping: `@/*` -> `./src/*`
- Module resolution: bundler

## Python Project Configuration

Backend: [backend/pyproject.toml](mdc:backend/pyproject.toml)

### Key Sections

- `[project]` - Metadata and dependencies
- `[project.optional-dependencies]` - Dev dependencies
- `[tool.pytest.ini_options]` - Test configuration
- `[tool.ruff]` - Linting configuration
- `[tool.mypy]` - Type checking configuration

### Ruff Configuration

- Target: Python 3.11
- Line length: 88
- Enabled rules: E, W, F, I, B, C4, UP, ARG001, SIM, TCH
- Isort configuration with first-party imports

### MyPy Configuration

- Strict type checking
- Python 3.11
- Warn on return any
- Disallow untyped definitions

## Development Scripts

### Backend

```bash
# Run with auto-reload
uv run uvicorn app.main:app --reload

# Run tests
uv run pytest -v

# Run with coverage
uv run pytest --cov=app --cov-report=html

# Lint
uv run ruff check .

# Type check
uv run mypy app
```

### Frontend

```bash
# Development
npm run dev

# Production build
npm run build

# Preview build
npm run preview

# Tests
npm run test       # Unit tests
npm run test:e2e   # E2E tests

# Lint
npm run lint
```

## Testing Tools

### Backend
- pytest with httpx
- Coverage: pytest-cov
- Conftest fixtures

### Frontend
- Vitest for unit tests
- Playwright for E2E tests
- Vue Test Utils
- Coverage reporting

## Code Quality Tools

- **Backend**: ruff (linting), mypy (type checking)
- **Frontend**: ESLint, TypeScript compiler
- **Pre-commit**: Consider adding pre-commit hooks for validation